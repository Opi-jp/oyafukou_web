# 八丈島親不孝通り Webサイト更新ガイド

## 🚀 更新の基本手順

### 1. Claude Codeを起動
```bash
# ターミナルでプロジェクトフォルダに移動
cd /Users/yukio/oyafukou-web

# Claude Codeを起動
claude
```

### 2. 更新したい内容を伝える
例：
- 「新しい店舗を追加して」
- 「〇〇店の営業時間を変更して」
- 「トップページのデザインを変更して」
- 「〇〇店の画像を変更して」

### 3. 自動でデプロイ
Claudeが変更を加えてGitHubにプッシュすると、Vercelが自動的にデプロイします。

## 📝 よくある更新作業

### 店舗情報の更新
1. **管理画面から更新（推奨）**
   - https://oyafukou-web.vercel.app/admin にアクセス
   - 編集したい店舗の「編集」ボタンをクリック
   - 情報を更新して「更新」ボタンをクリック

2. **Claude経由で更新**
   ```
   「〇〇店の営業時間を19:00-3:00に変更して」
   「〇〇店を臨時休業にして、理由は『設備メンテナンス』」
   ```

### 新しい店舗の追加
1. **管理画面から追加（推奨）**
   - https://oyafukou-web.vercel.app/admin にアクセス
   - 「新規店舗追加」ボタンをクリック
   - 必要情報を入力

2. **Claude経由で追加**
   ```
   「新しい店舗を追加して。店名は〇〇、カテゴリーは居酒屋、営業時間は...」
   ```

### 画像の変更
- 管理画面の店舗編集ページから画像をアップロード
- 対応画像：
  - トップ画像（一覧ページ用）
  - 詳細画像1（店舗詳細ページ上部）
  - 詳細画像2（メニュー後）
  - 外観画像（基本情報後）
  - マネージャー写真

### デザインの変更
Claude に具体的に伝える：
```
「ヘッダーの色を変更して」
「フォントサイズを大きくして」
「新しいセクションを追加して」
```

## 🛠 技術的な情報

### プロジェクト構成
- **フレームワーク**: Next.js 15 (App Router)
- **データベース**: MongoDB (Mongoose)
- **画像ストレージ**: Vercel Blob
- **ホスティング**: Vercel
- **スタイリング**: Tailwind CSS

### 重要なファイル
- `/app/page.tsx` - トップページ
- `/app/stores/[id]/page.tsx` - 店舗詳細ページ
- `/app/admin/page.tsx` - 管理画面
- `/app/access/page.tsx` - アクセスページ
- `/models/Store.ts` - 店舗データモデル
- `/components/Header.tsx` - ヘッダーコンポーネント

### 環境変数（.env.local）
```
MONGODB_URI=あなたのMongoDB接続文字列
BLOB_READ_WRITE_TOKEN=VercelのBlob Storage トークン
```

## 🔧 トラブルシューティング

### ビルドエラーが発生した場合
1. エラーメッセージをClaudeに伝える
2. 「ビルドエラーを修正して」と依頼

### 画像が表示されない場合
1. 管理画面から再アップロード
2. または「〇〇店の画像が表示されない問題を修正して」

### データベース接続エラー
1. MongoDB Atlasにログインして接続状態を確認
2. IPホワイトリストに0.0.0.0/0が含まれているか確認

## 📞 サポート

### Claude Codeの使い方
```bash
claude --help
```

### GitHubリポジトリ
https://github.com/Opi-jp/oyafukou_web

### デプロイ状況の確認
Vercelダッシュボード: https://vercel.com/dashboard

## 💡 便利なTips

1. **変更前にバックアップ**
   ```
   「現在の状態をバックアップして」
   ```

2. **複数の変更をまとめて依頼**
   ```
   「以下の変更をして：
   1. 〇〇店の営業時間を変更
   2. △△店の画像を削除
   3. ヘッダーに新しいリンクを追加」
   ```

3. **プレビュー確認**
   - Vercelは自動的にプレビューURLを生成
   - GitHubのPull Requestページで確認可能

---

最終更新: 2025年1月6日